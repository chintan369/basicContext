"use strict";!function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):window[n]=t()}("basicContext",function(){var n=null,t="item",e="separator",i=function(){var n=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return document.querySelector(".basicContext "+n)},o=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=0===Object.keys(n).length?!0:!1;return i===!0?n.type=e:n.type=t,null==n["class"]&&(n["class"]=""),n.visible!==!1&&(n.visible=!0),null==n.icon&&(n.icon=null),null==n.title&&(n.title="Undefined"),n.disabled!==!0&&(n.disabled=!1),n.disabled===!0&&(n["class"]+=" basicContext__item--disabled"),null==n.fn&&n.type!==e&&n.disabled===!1?(console.warn("Missing fn for item '"+n.title+"'"),!1):!0},l=function(n,i){var l="",a="";return o(n)===!1?"":n.visible===!1?"":(n.num=i,null!==n.icon&&(a="<span class='basicContext__icon "+n.icon+"'></span>"),n.type===t?l="\n		       <tr class='basicContext__item "+n["class"]+"'>\n		           <td class='basicContext__data' data-num='"+n.num+"'>"+a+n.title+"</td>\n		       </tr>\n		       ":n.type===e&&(l="\n		       <tr class='basicContext__item basicContext__item--separator'></tr>\n		       "),l)},a=function(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t="";return t+="\n	        <div class='basicContextContainer'>\n	            <div class='basicContext'>\n	                <table>\n	                    <tbody>\n	        ",n.forEach(function(n,e){return t+=l(n,e)}),t+="\n	                    </tbody>\n	                </table>\n	            </div>\n	        </div>\n	        "},r=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={x:n.clientX,y:n.clientY};if("touchend"===n.type&&(null==t.x||null==t.y)){var e=n.changedTouches;null!=e&&e.length>0&&(t.x=e[0].clientX,t.y=e[0].clientY)}return(null==t.x||t.x<0)&&(t.x=0),(null==t.y||t.y<0)&&(t.y=0),t},s=function(n,t){var e=n.x,i=n.y,o={width:window.innerWidth,height:window.innerHeight},l={width:t.offsetWidth,height:t.offsetHeight};e+l.width>o.width&&(e-=e+l.width-o.width),i+l.height>o.height&&(i-=i+l.height-o.height),l.height>o.height&&(i=0,t.classList.add("basicContext--scrollable"));var a=n.x-e,r=n.y-i;return{x:e,y:i,rx:a,ry:r}},u=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return null==n.fn?!1:n.visible===!1?!1:n.disabled===!0?!1:(i("td[data-num='"+n.num+"']").onclick=n.fn,i("td[data-num='"+n.num+"']").oncontextmenu=n.fn,!0)},c=function(n,t){t.style.left=n.x+"px",t.style.top=n.y+"px",t.style.transformOrigin=n.rx+"px "+n.ry+"px",t.style.opacity=1},d=function(t,e){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],l=a(e);document.body.insertAdjacentHTML("beforeend",l),null==n&&(n=document.body.style.overflow,document.body.style.overflow="hidden");var d=i(),f=r(t),h=s(f,d);return"function"==typeof o.show?o.show(h,d):c(h,d),d.parentElement.onclick="function"==typeof o.close?o.close:m,d.parentElement.oncontextmenu="function"==typeof o.close?o.close:m,e.forEach(u),"function"==typeof t.preventDefault&&t.preventDefault(),"function"==typeof t.stopPropagation&&t.stopPropagation(),"function"==typeof o.callback&&o.callback(),!0},f=function(){var n=i();return null==n||0===n.length?!1:!0},m=function(){if(f()===!1)return!1;var t=i().parentElement;return t.parentElement.removeChild(t),null!=n&&(document.body.style.overflow=n,n=null),!0};return{ITEM:t,SEPARATOR:e,show:d,visible:f,close:m}});